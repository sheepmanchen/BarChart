<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <script src="https://d3js.org/d3.v5.js"></script>
    <style>
        .bar {
            fill: steelblue;
        }
        text {
            font-size: 1.4em;
        }
    </style>
</head>

<body>
<form>
    <label><input type="radio" name="dataset" class="dataset" value="March" checked> March</label>
    <label><input type="radio" name="dataset" class="dataset" value="May"> May</label>
    <label><input type="radio" name="dataset" class="dataset" value="June"> June</label>
</form>
<script type="text/javascript">
    var margin = {top:50, right: 50, bottom: 50, left:150};
    var width = 600 - margin.left - margin.right;
    var height = 400 - margin.top - margin.bottom;

    var svg = d3.select("body")
        .append("svg")
        .attr("width", width + margin.left + margin.right)
        .attr("height", height + margin.bottom + margin.top)
        .append("g")
        .attr("transform","translate(" + margin.left +","+margin.top+")");


    d3.selectAll("input").on("change", selectDataset);

    function selectDataset(){
        var value = this.value;

    }





    var xScale = d3.scaleLinear().range([0,width]);
    var yScale = d3.scaleBand().range([0, height]).padding(0.2);

    d3.csv("2016.csv").then(function(data) {
        //
        console.log(data);
        data.forEach(function(d){
            // d.year = d.year;
            // d.value = parseInt(d.value);
            const xValue = parseInt(d.tv);
            const yValue = d.dpt;
        });
        const xValue = d => parseInt(d.tv);
        const yValue = d => d.dpt;

        xScale.domain([0, d3.max(data, xValue)]);
        yScale.domain(data.map(yValue));

        svg.append("g")
            .attr("transform","translate(0," + height + ")")
            .call(d3.axisBottom(xScale));

        svg.append("g")
            .call(d3.axisLeft(yScale));

        svg.selectAll("rect")
            .data(data)
            .enter()
            .append("rect")
            .attr("class","bar")
            .attr("y",d=>yScale(yValue(d)))
            .attr("x", 0)
            .attr("width",d=>xScale(xValue(d)))
            .attr("height",yScale.bandwidth());

    })

</script>
</body>